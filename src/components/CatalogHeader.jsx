import { useState, useEffect } from 'react';
import './CatalogHeader.css'
import { Link, NavLink } from 'react-router';
import HamburgerIcon from './icons/hamburgerIcon';
import CloseIcon from './icons/CloseIcon';

function Header({ searchBikes }){
    const [open, setOpen] = useState(false);
  
    useEffect(() => {
        if (window.matchMedia("(max-width: 875px)").matches) {
            document.body.style.paddingTop = open
            ? "305.617px"
            : "137.617px";
        }

    return () => {
        document.body.style.paddingTop = "";
    };
    }, [open]);

    function setOpenMenu() {
        setOpen(open => !open);
    }

    return (
          <header className='catalog'>
              <div className="header catalog">
                <div className="left">
                    <NavLink className="logo" to="#">
                      <svg width="160" height="54" viewBox="0 0 160 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.0059 33.3301C20.0059 28.8861 22.2279 26.6641 26.6719 26.6641H36.6709" stroke="#F59E0B" strokeWidth="2.6664" strokeLinecap="round"/>
                        <path d="M23.3389 23.331C25.5609 22.4422 28.8939 21.9978 33.3379 21.9978C37.7819 21.9978 42.2259 22.8866 46.6699 24.6642" stroke="#F59E0B" strokeWidth="3.33301" strokeLinecap="round"/>
                        <path d="M52.6693 23.3311H44.0035C41.7946 23.3311 40.0039 25.1217 40.0039 27.3307C40.0039 29.5396 41.7946 31.3303 44.0035 31.3303H52.6693C54.8783 31.3303 56.6689 29.5396 56.6689 27.3307C56.6689 25.1217 54.8783 23.3311 52.6693 23.3311Z" fill="#F59E0B"/>
                        <path d="M56.6689 26.6641L63.335 19.998L66.668 16.665" stroke="#F59E0B" strokeWidth="2.6664" strokeLinecap="round"/>
                        <path d="M63.335 16.665L68.0012 13.332L70.001 16.665" fill="#F59E0B"/>
                        <path d="M60.002 15.3318H70.001" stroke="#F59E0B" strokeWidth="1.9998" strokeLinecap="round"/>
                        <path d="M63.335 26.6641C67.779 26.6641 72.223 27.7751 76.667 29.9971C78.889 31.3303 80 33.1079 80 35.3299" stroke="#F59E0B" strokeWidth="2.6664" strokeLinecap="round"/>
                        <path opacity="0.7" d="M16.6729 19.998H30.0049" stroke="#F59E0B" strokeWidth="1.6665" strokeLinecap="round"/>
                        <path opacity="0.7" d="M13.3398 24.6643H28.0051" stroke="#F59E0B" strokeWidth="1.6665" strokeLinecap="round"/>
                        <path opacity="0.3" d="M20.0059 36.6631C28.8939 32.2191 44.4479 29.9971 66.6679 29.9971C88.888 29.9971 106.664 30.6637 119.996 31.9969C133.328 33.7745 142.216 36.4409 146.66 39.9961C144.438 36.4409 135.55 33.7745 119.996 31.9969C106.664 30.6637 88.888 30.6637 66.6679 31.9969C48.8919 32.8857 34.4489 35.1077 23.3389 38.6629L20.0059 36.6631Z" fill="#F59E0B"/>
                        <path d="M34.5177 32.6653V19.0909H39.9528C40.9514 19.0909 41.7843 19.2389 42.4516 19.5349C43.1188 19.831 43.6203 20.2419 43.9562 20.7678C44.292 21.2892 44.4599 21.8901 44.4599 22.5706C44.4599 23.1009 44.3539 23.5671 44.1418 23.9692C43.9297 24.3669 43.638 24.6938 43.2668 24.9501C42.9001 25.202 42.4803 25.381 42.0075 25.487V25.6196C42.5245 25.6417 43.0083 25.7875 43.4591 26.057C43.9142 26.3266 44.2832 26.7044 44.566 27.1904C44.8488 27.6721 44.9902 28.2465 44.9902 28.9138C44.9902 29.634 44.8112 30.2769 44.4533 30.8425C44.0998 31.4037 43.5762 31.8478 42.8824 32.1748C42.1887 32.5018 41.3336 32.6653 40.3173 32.6653H34.5177ZM37.3877 30.3189H39.7274C40.5272 30.3189 41.1105 30.1665 41.4772 29.8616C41.844 29.5523 42.0274 29.1413 42.0274 28.6287C42.0274 28.2532 41.9368 27.9217 41.7556 27.6345C41.5745 27.3473 41.316 27.122 40.9801 26.9585C40.6487 26.795 40.2532 26.7132 39.7937 26.7132H37.3877V30.3189ZM37.3877 24.7712H39.5153C39.9086 24.7712 40.2577 24.7027 40.5626 24.5657C40.8719 24.4243 41.1149 24.2255 41.2917 23.9692C41.4728 23.7129 41.5634 23.4058 41.5634 23.0479C41.5634 22.5574 41.3889 22.1619 41.0398 21.8614C40.6951 21.5609 40.2046 21.4107 39.5683 21.4107H37.3877V24.7712ZM49.7276 19.0909V32.6653H46.8576V19.0909H49.7276ZM52.0889 32.6653V19.0909H54.9589V25.0761H55.1378L60.0228 19.0909H63.4628L58.4254 25.1689L63.5224 32.6653H60.0891L56.3707 27.0844L54.9589 28.8077V32.6653H52.0889ZM73.342 19.0909H76.212V27.9063C76.212 28.8961 75.9756 29.7622 75.5028 30.5045C75.0344 31.2469 74.3782 31.8257 73.5342 32.2411C72.6902 32.652 71.7071 32.8575 70.5847 32.8575C69.4579 32.8575 68.4725 32.652 67.6286 32.2411C66.7846 31.8257 66.1284 31.2469 65.66 30.5045C65.1916 29.7622 64.9574 28.8961 64.9574 27.9063V19.0909H67.8274V27.661C67.8274 28.178 67.9401 28.6376 68.1654 29.0397C68.3952 29.4418 68.7178 29.7577 69.1331 29.9875C69.5485 30.2173 70.0324 30.3322 70.5847 30.3322C71.1415 30.3322 71.6253 30.2173 72.0363 29.9875C72.4516 29.7577 72.772 29.4418 72.9974 29.0397C73.2271 28.6376 73.342 28.178 73.342 27.661V19.0909ZM78.5733 32.6653V19.0909H83.9288C84.954 19.0909 85.8289 19.2742 86.5535 19.641C87.2826 20.0033 87.8372 20.5181 88.2172 21.1853C88.6016 21.8482 88.7939 22.6281 88.7939 23.5251C88.7939 24.4265 88.5994 25.202 88.2106 25.8516C87.8217 26.4967 87.2583 26.9916 86.5204 27.3363C85.7869 27.6809 84.8987 27.8533 83.8559 27.8533H80.2701V25.5467H83.3919C83.9399 25.5467 84.395 25.4715 84.7573 25.3213C85.1197 25.1711 85.3892 24.9457 85.566 24.6452C85.7471 24.3448 85.8377 23.9714 85.8377 23.5251C85.8377 23.0744 85.7471 22.6944 85.566 22.385C85.3892 22.0757 85.1175 21.8415 84.7507 21.6825C84.3884 21.519 83.931 21.4372 83.3787 21.4372H81.4433V32.6653H78.5733ZM85.904 26.4879L89.2777 32.6653H86.1095L82.8087 26.4879H85.904ZM90.8221 32.6653V19.0909H99.9689V21.4571H93.6921V24.6916H99.4983V27.0579H93.6921V30.299H99.9954V32.6653H90.8221ZM113.605 19.0909V32.6653H111.126L105.22 24.1216H105.121V32.6653H102.251V19.0909H104.769L110.629 27.6279H110.748V19.0909H113.605Z" fill="#4A5568"/>
                        <path d="M35.1405 41.1177H35.7011L37.0192 44.3371H37.0646L38.3827 41.1177H38.9432V44.9961H38.5039V42.0494H38.466L37.254 44.9961H36.8298L35.6178 42.0494H35.5799V44.9961H35.1405V41.1177ZM43.1573 43.0569C43.1573 43.4659 43.0834 43.8194 42.9357 44.1174C42.788 44.4153 42.5854 44.6451 42.3278 44.8067C42.0703 44.9683 41.7761 45.0491 41.4453 45.0491C41.1146 45.0491 40.8204 44.9683 40.5628 44.8067C40.3053 44.6451 40.1027 44.4153 39.9549 44.1174C39.8072 43.8194 39.7334 43.4659 39.7334 43.0569C39.7334 42.6478 39.8072 42.2943 39.9549 41.9964C40.1027 41.6984 40.3053 41.4687 40.5628 41.3071C40.8204 41.1455 41.1146 41.0647 41.4453 41.0647C41.7761 41.0647 42.0703 41.1455 42.3278 41.3071C42.5854 41.4687 42.788 41.6984 42.9357 41.9964C43.0834 42.2943 43.1573 42.6478 43.1573 43.0569ZM42.7028 43.0569C42.7028 42.7211 42.6466 42.4376 42.5342 42.2066C42.4231 41.9756 42.2723 41.8007 42.0816 41.682C41.8923 41.5633 41.6802 41.504 41.4453 41.504C41.2105 41.504 40.9978 41.5633 40.8071 41.682C40.6178 41.8007 40.4669 41.9756 40.3545 42.2066C40.2434 42.4376 40.1879 42.7211 40.1879 43.0569C40.1879 43.3927 40.2434 43.6761 40.3545 43.9072C40.4669 44.1382 40.6178 44.3131 40.8071 44.4318C40.9978 44.5504 41.2105 44.6098 41.4453 44.6098C41.6802 44.6098 41.8923 44.5504 42.0816 44.4318C42.2723 44.3131 42.4231 44.1382 42.5342 43.9072C42.6466 43.6761 42.7028 43.3927 42.7028 43.0569ZM43.5734 41.5343V41.1177H46.4822V41.5343H45.2627V44.9961H44.793V41.5343H43.5734ZM50.318 43.0569C50.318 43.4659 50.2442 43.8194 50.0965 44.1174C49.9488 44.4153 49.7461 44.6451 49.4886 44.8067C49.231 44.9683 48.9369 45.0491 48.6061 45.0491C48.2753 45.0491 47.9811 44.9683 47.7236 44.8067C47.466 44.6451 47.2634 44.4153 47.1157 44.1174C46.968 43.8194 46.8941 43.4659 46.8941 43.0569C46.8941 42.6478 46.968 42.2943 47.1157 41.9964C47.2634 41.6984 47.466 41.4687 47.7236 41.3071C47.9811 41.1455 48.2753 41.0647 48.6061 41.0647C48.9369 41.0647 49.231 41.1455 49.4886 41.3071C49.7461 41.4687 49.9488 41.6984 50.0965 41.9964C50.2442 42.2943 50.318 42.6478 50.318 43.0569ZM49.8635 43.0569C49.8635 42.7211 49.8074 42.4376 49.695 42.2066C49.5839 41.9756 49.433 41.8007 49.2424 41.682C49.053 41.5633 48.8409 41.504 48.6061 41.504C48.3713 41.504 48.1585 41.5633 47.9679 41.682C47.7785 41.8007 47.6276 41.9756 47.5153 42.2066C47.4042 42.4376 47.3486 42.7211 47.3486 43.0569C47.3486 43.3927 47.4042 43.6761 47.5153 43.9072C47.6276 44.1382 47.7785 44.3131 47.9679 44.4318C48.1585 44.5504 48.3713 44.6098 48.6061 44.6098C48.8409 44.6098 49.053 44.5504 49.2424 44.4318C49.433 44.3131 49.5839 44.1382 49.695 43.9072C49.8074 43.6761 49.8635 43.3927 49.8635 43.0569ZM51.1077 44.9961V41.1177H52.4182C52.7212 41.1177 52.9699 41.1694 53.1643 41.273C53.3588 41.3752 53.5027 41.516 53.5961 41.6953C53.6895 41.8746 53.7363 42.0785 53.7363 42.307C53.7363 42.5355 53.6895 42.7381 53.5961 42.9149C53.5027 43.0916 53.3594 43.2305 53.1662 43.3315C52.9731 43.4312 52.7263 43.4811 52.4258 43.4811H51.3653V43.0569H52.4106C52.6177 43.0569 52.7843 43.0266 52.9106 42.966C53.0381 42.9054 53.1303 42.8195 53.1871 42.7084C53.2451 42.5961 53.2742 42.4623 53.2742 42.307C53.2742 42.1517 53.2451 42.016 53.1871 41.8998C53.129 41.7837 53.0362 41.694 52.9087 41.6309C52.7812 41.5665 52.6126 41.5343 52.4031 41.5343H51.5774V44.9961H51.1077ZM52.9333 43.2538L53.8878 44.9961H53.3424L52.4031 43.2538H52.9333ZM54.5189 44.9961V41.1177H55.8748C56.145 41.1177 56.3678 41.1644 56.5433 41.2578C56.7188 41.35 56.8494 41.4743 56.9353 41.6309C57.0211 41.7862 57.0641 41.9585 57.0641 42.1479C57.0641 42.3145 57.0344 42.4522 56.9751 42.5607C56.917 42.6693 56.84 42.7552 56.744 42.8183C56.6493 42.8814 56.5464 42.9281 56.4353 42.9584V42.9963C56.554 43.0039 56.6733 43.0455 56.7933 43.1213C56.9132 43.197 57.0136 43.3056 57.0944 43.447C57.1752 43.5884 57.2156 43.7614 57.2156 43.9659C57.2156 44.1603 57.1714 44.3352 57.083 44.4905C56.9946 44.6457 56.8551 44.7688 56.6645 44.8597C56.4738 44.9506 56.2258 44.9961 55.9202 44.9961H54.5189ZM54.9885 44.5795H55.9202C56.227 44.5795 56.4448 44.5201 56.5736 44.4015C56.7036 44.2815 56.7686 44.1363 56.7686 43.9659C56.7686 43.8346 56.7352 43.7134 56.6683 43.6023C56.6014 43.4899 56.506 43.4003 56.3823 43.3334C56.2586 43.2652 56.1121 43.2311 55.943 43.2311H54.9885V44.5795ZM54.9885 42.8221H55.8596C56.001 42.8221 56.1285 42.7943 56.2422 42.7387C56.3571 42.6832 56.448 42.6049 56.5149 42.5039C56.583 42.4029 56.6171 42.2842 56.6171 42.1479C56.6171 41.9775 56.5578 41.8329 56.4391 41.7142C56.3204 41.5943 56.1323 41.5343 55.8748 41.5343H54.9885V42.8221ZM58.4569 41.1177V44.9961H57.9873V41.1177H58.4569ZM59.3986 44.9961V41.1177H59.8682V43.0417H59.9137L61.6559 41.1177H62.2695L60.6409 42.8675L62.2695 44.9961H61.7014L60.353 43.1932L59.8682 43.7386V44.9961H59.3986ZM62.8774 44.9961V41.1177H65.2181V41.5343H63.3471V42.8448H65.0969V43.2614H63.3471V44.5795H65.2484V44.9961H62.8774ZM67.5644 44.9961V41.1177H68.8749C69.1779 41.1177 69.4266 41.1694 69.6211 41.273C69.8155 41.3752 69.9594 41.516 70.0528 41.6953C70.1463 41.8746 70.193 42.0785 70.193 42.307C70.193 42.5355 70.1463 42.7381 70.0528 42.9149C69.9594 43.0916 69.8161 43.2305 69.623 43.3315C69.4298 43.4312 69.183 43.4811 68.8825 43.4811H67.822V43.0569H68.8674C69.0744 43.0569 69.2411 43.0266 69.3673 42.966C69.4948 42.9054 69.587 42.8195 69.6438 42.7084C69.7019 42.5961 69.7309 42.4623 69.7309 42.307C69.7309 42.1517 69.7019 42.016 69.6438 41.8998C69.5857 41.7837 69.4929 41.694 69.3654 41.6309C69.2379 41.5665 69.0694 41.5343 68.8598 41.5343H68.0341V44.9961H67.5644ZM69.39 43.2538L70.3445 44.9961H69.7991L68.8598 43.2538H69.39ZM70.9756 44.9961V41.1177H73.3163V41.5343H71.4452V42.8448H73.1951V43.2614H71.4452V44.5795H73.3466V44.9961H70.9756ZM77.2382 41.1177V44.9961H76.7837L74.6703 41.9509H74.6324V44.9961H74.1628V41.1177H74.6173L76.7383 44.1704H76.7761V41.1177H77.2382ZM77.9659 41.5343V41.1177H80.8747V41.5343H79.6551V44.9961H79.1855V41.5343H77.9659ZM81.3055 44.9961H80.8132L82.2373 41.1177H82.7221L84.1462 44.9961H83.6538L82.4948 41.7313H82.4645L81.3055 44.9961ZM81.4873 43.4811H83.472V43.8977H81.4873V43.4811ZM84.7503 44.9961V41.1177H85.2199V44.5795H87.0228V44.9961H84.7503Z" fill="#4A5568"/>
                      </svg>
                    </NavLink>
                    <NavLink to="/" className="text-menu">Catalog</NavLink>
                    <NavLink to="/myBookings" className="text-menu">My Bookings</NavLink>
                    <NavLink to="/contacts" className="text-menu">Contacts</NavLink>
                </div>
                <div className="middle">
                    <div><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M17.5 17.5L13.8833 13.8833" stroke="#99A1AF" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                      <path d="M9.16667 15.8333C12.8486 15.8333 15.8333 12.8486 15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333Z" stroke="#99A1AF" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                      </svg>
                </div>
                    <input 
                      type="text" 
                      placeholder="Search models..." 
                      onKeyDown={(e) => {
                        if (e.key === "Enter") {
                          e.target.blur();
                          window.scrollTo(0, 0); 
                          searchBikes(e.target.value);
                        }
                      }}
                    />
                </div>
                <div className="right">
                    <NavLink to="/checkout">
                      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.66683 18.3334C7.12707 18.3334 7.50016 17.9603 7.50016 17.5001C7.50016 17.0398 7.12707 16.6667 6.66683 16.6667C6.20659 16.6667 5.8335 17.0398 5.8335 17.5001C5.8335 17.9603 6.20659 18.3334 6.66683 18.3334Z" stroke="#364153" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                        <path d="M15.8333 18.3334C16.2936 18.3334 16.6667 17.9603 16.6667 17.5001C16.6667 17.0398 16.2936 16.6667 15.8333 16.6667C15.3731 16.6667 15 17.0398 15 17.5001C15 17.9603 15.3731 18.3334 15.8333 18.3334Z" stroke="#364153" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                        <path d="M1.7085 1.70825H3.37516L5.59183 12.0583C5.67314 12.4373 5.88405 12.7761 6.18826 13.0165C6.49246 13.2568 6.87092 13.3835 7.2585 13.3749H15.4085C15.7878 13.3743 16.1556 13.2443 16.451 13.0064C16.7465 12.7686 16.9519 12.437 17.0335 12.0666L18.4085 5.87492H4.26683" stroke="#364153" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                      </svg>
                    </NavLink>
                    <NavLink to="/profile">
                      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.8332 17.5V15.8333C15.8332 14.9493 15.482 14.1014 14.8569 13.4763C14.2317 12.8512 13.3839 12.5 12.4998 12.5H7.49984C6.61578 12.5 5.76794 12.8512 5.14281 13.4763C4.51769 14.1014 4.1665 14.9493 4.1665 15.8333V17.5" stroke="#364153" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                        <path d="M9.99984 9.16667C11.8408 9.16667 13.3332 7.67428 13.3332 5.83333C13.3332 3.99238 11.8408 2.5 9.99984 2.5C8.15889 2.5 6.6665 3.99238 6.6665 5.83333C6.6665 7.67428 8.15889 9.16667 9.99984 9.16667Z" stroke="#364153" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
                      </svg>
                    </NavLink>
        
                    <Link className="hamburger-icon" onClick={setOpenMenu}>
                        { open ? <CloseIcon/> : <HamburgerIcon/>}
                    </Link>
                </div>
              </div>
        
              <div className={ open ? "mobile-menu show" : "mobile-menu" }>
                  <Link  to="/" className="text-menu">Catalog</Link>
                  <Link  to="/myBookings" className="text-menu">My Bookings</Link>
                  <Link  to="/contacts" className="text-menu">Contacts</Link>
              </div>
            </header>
    )
}

export default Header;